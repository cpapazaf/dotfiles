alias e='exit'
alias d='docker'
#alias d-start='docker-machine start spiti'
#alias de='eval "$(docker-machine env spiti)"'

alias dst='docker stop $(docker ps -a -q)'
alias drm='docker rm $(docker ps -a -q)'

alias cl='clear'
alias subl='/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl'

alias duhere='du -hcs * | sort -rn | head'

#tmux
alias tmk='tmux kill-session -t'
alias tm='tmux'
alias tml='tmux list-sessions'
alias tma='tmux attach -t'

listCloudNodes(){
	if [ -z $1 ] ; then
		cloudmonkey list virtualmachines name=kco filter=name,id,state;
	else
		cloudmonkey list virtualmachines name=$1 filter=name,id,state;
	fi
}
alias listcloud=listCloudNodes


# List and then destroy & expunge all nodes connected to the given environment name($1)
destroyCloudNodes(){
	if [ -z $1 ] ; then
		echo Please enter environment to destroy;
	else
		cloudmonkey list virtualmachines name=$1 filter=name,id,state
		echo 'Will start to destroy and expunge the above virtual machine(s) in 10 seconds'
		sleep 10
		a=`cloudmonkey list virtualmachines name=$1 filter=id | grep -o "[0-9a-f]\{8\}[0-9a-f-]\+"`
		for id in $a ; do
			echo '== Currently Destroying/Expunging =='
			cloudmonkey list virtualmachines id=$id filter=name,id,state
			cloudmonkey destroy virtualmachine id=$id;
			cloudmonkey expunge virtualmachine id=$id;
		done
		cloudmonkey list virtualmachines name=kco filter=name,id,state
	fi
}
alias destroycloud=destroyCloudNodes

function co() {
	local branches branch
	branches=$(git branch -a) &&
	branch=$(echo "$branches" | fzf +s +m) &&
	#git checkout $(echo "$branch" | sed "s/.* //")
	git checkout $(echo "$branch" | sed "s:.* remotes/origin/::" | sed "s:.* ::")
}

function go() {
	local repos repo
	repos=$(ls ~/Code) &&
	repo=$(echo "$repos" | fzf +s +m) &&
	cd ~/Code/$(echo "$repo" | sed "s:.* remotes/origin/::" | sed "s:.* ::")
}

